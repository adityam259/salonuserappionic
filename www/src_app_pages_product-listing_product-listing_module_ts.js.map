{"version":3,"file":"src_app_pages_product-listing_product-listing_module_ts.js","mappings":"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","sources":["./src/app/pages/product-listing/product-listing-routing.module.ts","./src/app/pages/product-listing/product-listing.module.ts","./src/app/pages/product-listing/product-listing.page.ts","./src/app/pages/product-listing/product-listing.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProductListingPage } from './product-listing.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductListingPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProductListingPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProductListingPageRoutingModule } from './product-listing-routing.module';\n\nimport { ProductListingPage } from './product-listing.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProductListingPageRoutingModule\n  ],\n  declarations: [ProductListingPage]\n})\nexport class ProductListingPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ToastController } from '@ionic/angular';\nimport { ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { LoadingController } from '@ionic/angular';\nimport { RequestServiceService } from '../../services/request-service.service';\nimport { NavController } from '@ionic/angular';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-product-listing',\n  templateUrl: './product-listing.page.html',\n  styleUrls: ['./product-listing.page.scss'],\n})\nexport class ProductListingPage implements OnInit {\n  cartBadge:any;\n  message: any;\n  productData: any;\n  cartItems = [];\n  itemId: string;\n  productType: string;\n  headerName: string;\n  product = {\n    id: '',\n    image: '',\n    price: '',\n    quantity: '',\n    title: '',\n    rate: '',\n    time: '',\n    description: '',\n    type: '',\n    originalPrice: ''\n\n  };\n  buttons: any[] = [];\n\n  listOfCategory: any;\n\n  constructor(public toastController: ToastController,\n    private route: ActivatedRoute,\n    public loadingController: LoadingController,\n    private requestServiceService: RequestServiceService,\n    private navCtrl: NavController,\n    private router: Router, \n  ) { }\n\n  ngOnInit() {\n    this.updateCartBadge();\n    setInterval(() => {\n      this.updateCartBadge();\n    }, 2000);\n    this.route.queryParams.subscribe(params => {\n      this.itemId = params['id'];\n      this.productType = params['productType'];\n    });\n    this.getProduct(this.itemId, this.productType);\n    this.getListOfCategory();\n  }\n\n  updateCartBadge() {\n    const storedCartItems = sessionStorage.getItem('cartItems');\n    if(storedCartItems!=null){\n    const cartItemsArray = JSON.parse(storedCartItems); // Parse the string to convert it back to an array\n    const count = cartItemsArray.length;\n    //console.log(count); // Display the count of elements in the array\n    //console.log(\"tab == \"+count);\n    this.cartBadge = count;\n    }else{\n      this.cartBadge = 0;\n    }\n  }\n\n  async getProduct(id, productType) {\n    const formData = new FormData();\n    formData.append('id', id);\n    formData.append('productType', productType);\n    const loading = await this.presentLoading(); // show loader\n    try {\n      const data: any = await this.requestServiceService.postHttpCall(\"getDataByCategory\", formData).toPromise();\n      if (data.status === 'SUCCESS') {\n        console.log(data);\n        this.productData = data.data;\n        this.headerName = data.message;\n      } else {\n        console.log(data);\n        this.message = data.message;\n      }\n    } catch (error) {\n      console.error(error);\n    } finally {\n      if (loading) {\n        loading.dismiss(); // hide loader\n      }\n    }\n\n  }\n\n  addToCart(order) {\n    console.log(\"order == \" + order.type);\n    let existingItem = this.cartItems.find((item) => item.id === order.id);\n    if (existingItem) {\n      this.presentToast(`${order.title} already added to cart`);\n    } else {\n      const storedCartItems = sessionStorage.getItem('cartItems');\n      if (storedCartItems) {\n        this.cartItems = JSON.parse(storedCartItems);\n      }\n      this.cartItems.push({\n        id: order.id,\n        title: order.title,\n        price: order.price,\n        quantity: order.quantity,\n        type: order.type,\n        membershipDiscount: order.membershipDiscount,\n        membershipDiscount2: order.membershipDiscount2\n      });\n    }\n    sessionStorage.setItem('cartItems', JSON.stringify(this.cartItems));\n    console.log(\"Stringy json cart\" + JSON.stringify(this.cartItems));\n    this.presentToast(`${order.title} added to cart`);\n  }\n\n  async presentToast(message) {\n    const toast = await this.toastController.create({\n      message,\n      duration: 2000,\n      position: 'bottom',\n    });\n    toast.present();\n  }\n\n  goToCart() {\n    this.navCtrl.navigateForward('/cart');\n  }\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n      message: 'Loading...',\n      spinner: 'dots',\n      translucent: true,\n      backdropDismiss: false\n    });\n    await loading.present();\n    return loading;\n  }\n\n  \n  async getListOfCategory() {\n    this.presentLoading(); // show loader\n    this.requestServiceService.getHttpCall(\"getCategoryApi\").subscribe((data: any) => {\n      if (data.status === 'SUCCESS') {\n        this.listOfCategory = data.data;\n        this.listOfCategory.forEach(element => {\n          //console.log(\"=>\"+element.categoryName);\n          this.buttons.push(element.categoryName);\n        });\n        console.log(this.listOfCategory );\n        console.log(this.buttons );\n      } else {\n        this.message = data.message;\n      }\n      this.loadingController.dismiss(); // hide loader\n    });\n  }\n\n  getClickedCatgegory(button: string){\n    //console.log(button);\n    this.listOfCategory.forEach(element => {\n      if(element.categoryName.includes(button)){\n        //console.log(element.id);\n        this.getProduct(element.id,'');\n      }\n    });\n  }\n\n  openProductView(id){\n    console.log(\"id = \"+id);\n    const navigationExtras: NavigationExtras = {\n      queryParams: {\n        id: id\n      }\n    };\n    this.router.navigate(['product-brand-details'], navigationExtras);\n  }\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"tabs/tab1\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Product Listing</ion-title>\\n    <ion-buttons slot=\\\"end\\\" (click)=\\\"goToCart()\\\" size=\\\"large\\\"  style=\\\"padding-right: 15px;color: black;\\\">\\n      <ion-icon name=\\\"cart\\\" class=\\\"black-cart-icon\\\"></ion-icon>\\n      <ion-badge color=\\\"danger\\\" *ngIf=\\\"cartBadge!=0\\\">{{cartBadge}}</ion-badge>\\n\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"scroll-container\\\">\\n    <div class=\\\"button-container\\\">\\n      <ion-button *ngFor=\\\"let button of buttons\\\" shape=\\\"round\\\"  style=\\\"--background: #a91f06;\\\"  (click)=\\\"getClickedCatgegory(button)\\\"><strong>{{ button }}</strong></ion-button>\\n    </div>\\n  </div>\\n  \\n  <h5 style=\\\"padding: 10px;text-align: center;\\\">{{headerName}}</h5>\\n  <ion-list>\\n    <ion-item *ngFor=\\\"let product of productData\\\">\\n      <ion-card style=\\\"width: 100%;\\\">\\n        <ion-card-header>\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-8\\\">\\n              <ion-card-title style=\\\"font-size: 15px;\\\">{{ product.title }}</ion-card-title>\\n              <ion-card-subtitle>&#x20B9;{{ product.price }} &nbsp; &#x20B9;<s>{{ product.originalPrice }}</s> &nbsp; <i class=\\\"fas fa-info-circle\\\" (click)=\\\"openProductView(product.id)\\\"></i>\\n              </ion-card-subtitle>\\n              <p>{{ product.serviceTime }} </p>\\n            </div>\\n            <div class=\\\"col-4\\\">\\n              <ion-button (click)=\\\"addToCart(product)\\\" style=\\\"--background: #ffffff;\\n              border: solid blue;\\n              color: blue;\\n              font-weight: bold;\\n              border-radius: 10px;\\\" (click)=\\\"addToCart(product)\\\">ADD +</ion-button>\\n            </div>\\n          </div>\\n          \\n          <hr>\\n        </ion-card-header>\\n        <ion-card-content [innerHTML]=\\\"product.description\\\">\\n         \\n        </ion-card-content>\\n       \\n      </ion-card>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\\n\";"],"names":[],"sourceRoot":"webpack:///"}